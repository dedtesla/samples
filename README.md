# Александр Владимирович Шендеров. Примеры кода.

Стек технологий
>PHP7, PostgreSQL, memcached, websocket, SOAP, xmpp, jQuery, React.js,
MongoDB, RabbitMQ.

## Структура

### 1. Framework Port. Платформа разработки веб-приложений
Компания исторически работала на инструментах собственной разработки.
В ее активе был натуральный "зоопарк" приложений на PHP3 и PHP5.
Это были, по большей части, монолитные скрипты по несколько тысяч строк,
либо процедурные реализации. Наведение порядка было разбито на несколько
этапов:
1. рефакторинг с одновременным портированием "троечных" приложений на 5+
2. рефакторинг приложений на 5ке.
3. Перевод приложений на mvc-модель + рефакторинг с преобразованием
мультиплатформ к единой среде разработки.
4. Портирование на PHP7 + рефакторинг с переходом на объектную модель.
5. Разработка принципиально новой единой платформы на PHP7.

В качестве базовой среды разработки новой платформы рассматривались все
основные фреймворки PHP. В итоге, по разным причинам было принято решение
о реализации "с нуля", но с привлечением технологических решений, заложенных
в yii2. yii2, потому что на тот момент он оказался наиболее соответствующим
идеологии компании.

Самописный фреймворк был разработан в течение 1 года. Корневые принципы,
заложенные в нем - единая точка входа для всех приложений (мультисайтинг),
разработка сайтов/приложений с базовым функционалом без привлечения программистов, минимальное привлечение сторонних разработок.

После развертывания платформы на бою, в течение года, было разработано около 200
сайтов, система управления контентом, админ-панель. Большая часть сайтов была
реализована без привлечения программистов.

В структуре платформы:
* contrib - общие конечные модульные компоненты и шаблоны приложений.
* core - ядро.
* sites - единая точка входа приложений.
* cdn - хранилище для оптимальной доставки разделяемых ресурсов.

В данном примере представлены реализации:
* сущности "Пользователь" (Port Framework\core\common\PortModel.php, Port Framework\core\components\models - наследуемые),
* автоматической инициализации новых проектов в системе Порт (Port Framework\core\components\models\PortProjectInstall.php),
* сущности "Приложение" (Port Framework\core\components\PortSiteApplication.php),
* точки инициализации (Port Framework\core\Port.php),
* модулей:
  * авторизация пользователя (Port Framework\contrib\modules\login)
  * профиль пользователя личного кабинета (Port Framework\contrib\modules\userprofile)
* точка входа (Port Framework\sites\index.php)

### 2. MySender. Агрегатор каналов коммуникации.

Предназначение - организации бизнес-сценариев онлайн-взаимодействия компаний с
клиентами в режиме реального времени. Взаимодействие реализовано в едином
веб-интерфейсе. Каналы коммуникации - автономные мессенджеры, мессенджеры и
функционал социальных сетей.

Решает задачи:
Кросс-процессорное взаимодействие с xmpp-сервером и веб-интерфейсом операторов через вебсокет.
Организация доставки сообщений в обе стороны.
Автономная коммуникация с клиентами встроенным чат-ботом.
Поддержка функционала чатов.
Хранение истории чатов.
Поддержание работоспособности сервиса.
Авторизация пользователей сервисов в системе.
Подготовка и организация хранения статистических данных.

В данном примере представлены реализации:
* админ-панель для управления аккаунтами клиентов (MySender\Admin),
* сущностей "Оператор" (MySender\Entites\Operator) и клиент (MySender\Entites\User),
* каналов обмена в рамках платформы (MySender\Exchange).

Код представлен в усеченном виде (NDA).
